{"ast":null,"code":"var _jsxFileName = \"/Users/ozzyozmencelik/Projects/project-management/frontend/src/components/pages/ProjectJoinPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { BACKGROUND_COLORS } from '../../util/colorsContants';\nimport Loader from '../Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectJoinPage = () => {\n  _s();\n  const {\n    socket\n  } = useSelector(state => state.socketConnection);\n  const {\n    userInfo\n  } = useSelector(state => state.userLogin);\n  const {\n    projectId,\n    joinId\n  } = useParams();\n  const history = useHistory();\n  useEffect(() => {\n    if (projectId && joinId && userInfo) {\n      let projectJoined = userInfo.projectsJoined.findIndex(x => x._id === projectId);\n      if (projectJoined === -1) {\n        projectJoined = userInfo.projectsCreated.findIndex(x => x._id === projectId);\n      }\n      if (projectJoined !== -1) history.push(\"/project/\".concat(projectId));else {\n        const background = BACKGROUND_COLORS[Math.floor(Math.random() * Math.floor(5))];\n        socket.emit('project-join', {\n          projectId,\n          joinId,\n          background\n        }, () => history.push(\"/project/\".concat(projectId)));\n      }\n    }\n  }, [socket, history, userInfo, projectId, joinId]);\n  return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 10\n  }, this);\n};\n_s(ProjectJoinPage, \"UCz8FPlh0jvBsDcUS0T+KfTxRbc=\", false, function () {\n  return [useSelector, useSelector, useParams, useHistory];\n});\n_c = ProjectJoinPage;\nexport default ProjectJoinPage;\nvar _c;\n$RefreshReg$(_c, \"ProjectJoinPage\");","map":{"version":3,"names":["React","useEffect","useSelector","useHistory","useParams","BACKGROUND_COLORS","Loader","jsxDEV","_jsxDEV","ProjectJoinPage","_s","socket","state","socketConnection","userInfo","userLogin","projectId","joinId","history","projectJoined","projectsJoined","findIndex","x","_id","projectsCreated","push","concat","background","Math","floor","random","emit","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ozzyozmencelik/Projects/project-management/frontend/src/components/pages/ProjectJoinPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { BACKGROUND_COLORS } from '../../util/colorsContants';\nimport Loader from '../Loader';\n\nconst ProjectJoinPage = () => {\n  const { socket } = useSelector((state) => state.socketConnection);\n  const { userInfo } = useSelector((state) => state.userLogin);\n  const { projectId, joinId } = useParams();\n  const history = useHistory();\n  useEffect(() => {\n    if (projectId && joinId && userInfo) {\n      let projectJoined = userInfo.projectsJoined.findIndex(\n        (x) => x._id === projectId\n      );\n      if (projectJoined === -1) {\n        projectJoined = userInfo.projectsCreated.findIndex(\n          (x) => x._id === projectId\n        );\n      }\n      if (projectJoined !== -1) history.push(`/project/${projectId}`);\n      else {\n        const background =\n          BACKGROUND_COLORS[Math.floor(Math.random() * Math.floor(5))];\n\n        socket.emit('project-join', { projectId, joinId, background }, () =>\n          history.push(`/project/${projectId}`)\n        );\n      }\n    }\n  }, [socket, history, userInfo, projectId, joinId]);\n  return <Loader />;\n};\n\nexport default ProjectJoinPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,EAAEC,SAAS,QAAQ,kBAAkB;AACxD,SAASC,iBAAiB,QAAQ,2BAA2B;AAC7D,OAAOC,MAAM,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM;IAAEC;EAAO,CAAC,GAAGT,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACC,gBAAgB,CAAC;EACjE,MAAM;IAAEC;EAAS,CAAC,GAAGZ,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACG,SAAS,CAAC;EAC5D,MAAM;IAAEC,SAAS;IAAEC;EAAO,CAAC,GAAGb,SAAS,CAAC,CAAC;EACzC,MAAMc,OAAO,GAAGf,UAAU,CAAC,CAAC;EAC5BF,SAAS,CAAC,MAAM;IACd,IAAIe,SAAS,IAAIC,MAAM,IAAIH,QAAQ,EAAE;MACnC,IAAIK,aAAa,GAAGL,QAAQ,CAACM,cAAc,CAACC,SAAS,CAClDC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKP,SACnB,CAAC;MACD,IAAIG,aAAa,KAAK,CAAC,CAAC,EAAE;QACxBA,aAAa,GAAGL,QAAQ,CAACU,eAAe,CAACH,SAAS,CAC/CC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKP,SACnB,CAAC;MACH;MACA,IAAIG,aAAa,KAAK,CAAC,CAAC,EAAED,OAAO,CAACO,IAAI,aAAAC,MAAA,CAAaV,SAAS,CAAE,CAAC,CAAC,KAC3D;QACH,MAAMW,UAAU,GACdtB,iBAAiB,CAACuB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGF,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9DlB,MAAM,CAACoB,IAAI,CAAC,cAAc,EAAE;UAAEf,SAAS;UAAEC,MAAM;UAAEU;QAAW,CAAC,EAAE,MAC7DT,OAAO,CAACO,IAAI,aAAAC,MAAA,CAAaV,SAAS,CAAE,CACtC,CAAC;MACH;IACF;EACF,CAAC,EAAE,CAACL,MAAM,EAAEO,OAAO,EAAEJ,QAAQ,EAAEE,SAAS,EAAEC,MAAM,CAAC,CAAC;EAClD,oBAAOT,OAAA,CAACF,MAAM;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnB,CAAC;AAACzB,EAAA,CA3BID,eAAe;EAAA,QACAP,WAAW,EACTA,WAAW,EACFE,SAAS,EACvBD,UAAU;AAAA;AAAAiC,EAAA,GAJtB3B,eAAe;AA6BrB,eAAeA,eAAe;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}