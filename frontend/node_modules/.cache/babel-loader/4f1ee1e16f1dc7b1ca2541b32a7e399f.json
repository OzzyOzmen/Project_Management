{"ast":null,"code":"var _jsxFileName = \"/Users/ozzyozmencelik/Projects/project-management/frontend/src/components/dashboard/taskModal/modalComponents/comments/Comments.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles, Avatar, Typography } from '@material-ui/core';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport CommentItem from './CommentItem';\nimport CommentInput from './CommentInput';\nimport DeleteMenu from '../../../shared/DeleteMenu';\nimport { addComment, deleteComment, editComment } from '../../../../../redux/actions/projectActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    marginTop: 15,\n    '& svg': {\n      marginRight: 15\n    }\n  },\n  commentsContainer: {\n    margin: '10px 40px 0 0'\n  },\n  userInputContainer: {\n    margin: '15px 0px 8px 0px',\n    display: 'flex'\n  },\n  avatar: {\n    width: 35,\n    height: 35,\n    marginRight: 10\n  }\n}));\nconst Comments = _ref => {\n  _s();\n  let {\n    comments,\n    projectId,\n    taskId,\n    disabled\n  } = _ref;\n  const {\n    userInfo\n  } = useSelector(state => state.userLogin);\n  const dispatch = useDispatch();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [commentToDelete, setCommentToDelete] = useState(null);\n  const classes = useStyles();\n  const openDeleteMenu = (id, index, anchor) => {\n    setCommentToDelete({\n      id,\n      index\n    });\n    setAnchorEl(anchor);\n  };\n  const deleteCommentHandle = () => {\n    dispatch(deleteComment(taskId, projectId, commentToDelete.id, commentToDelete.index, () => {\n      setCommentToDelete(null);\n      setAnchorEl(null);\n    }));\n  };\n  const editCommentHandle = (commentId, comment, commentIndex, callback) => {\n    dispatch(editComment(taskId, projectId, commentId, comment, commentIndex, callback));\n  };\n  const addCommentHandle = (comment, callback) => {\n    dispatch(addComment(taskId, projectId, comment, callback));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.header,\n      children: [/*#__PURE__*/_jsxDEV(ChatIcon, {\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.userInputContainer,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar,\n        src: userInfo.profilePicture\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommentInput, {\n        addCommentHandle: addCommentHandle,\n        disabled: disabled\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.commentsContainer,\n      children: comments && comments.map((comment, index) => /*#__PURE__*/_jsxDEV(CommentItem, {\n        commentIndex: index,\n        comment: comment,\n        profilePicture: userInfo._id === comment.user._id ? userInfo.profilePicture : comment.user.profilePicture,\n        openDeleteMenu: openDeleteMenu,\n        editCommentHandle: editCommentHandle,\n        userId: userInfo._id\n      }, comment._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteMenu, {\n      anchorEl: anchorEl,\n      handleClose: () => setAnchorEl(null),\n      headerTitle: \"Delete comment?\",\n      deleteHandle: deleteCommentHandle,\n      text: 'Deleting a comment cannot be undone, are you sure?'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Comments, \"IQ82jbOIHM4QtlpIt13VfYLSLQ4=\", false, function () {\n  return [useSelector, useDispatch, useStyles];\n});\n_c = Comments;\nexport default Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","makeStyles","Avatar","Typography","ChatIcon","CommentItem","CommentInput","DeleteMenu","addComment","deleteComment","editComment","jsxDEV","_jsxDEV","Fragment","_Fragment","useStyles","header","display","alignItems","marginTop","marginRight","commentsContainer","margin","userInputContainer","avatar","width","height","Comments","_ref","_s","comments","projectId","taskId","disabled","userInfo","state","userLogin","dispatch","anchorEl","setAnchorEl","commentToDelete","setCommentToDelete","classes","openDeleteMenu","id","index","anchor","deleteCommentHandle","editCommentHandle","commentId","comment","commentIndex","callback","addCommentHandle","children","className","color","fileName","_jsxFileName","lineNumber","columnNumber","variant","src","profilePicture","map","_id","user","userId","handleClose","headerTitle","deleteHandle","text","_c","$RefreshReg$"],"sources":["/Users/ozzyozmencelik/Projects/project-management/frontend/src/components/dashboard/taskModal/modalComponents/comments/Comments.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { makeStyles, Avatar, Typography } from '@material-ui/core';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport CommentItem from './CommentItem';\nimport CommentInput from './CommentInput';\nimport DeleteMenu from '../../../shared/DeleteMenu';\nimport {\n  addComment,\n  deleteComment,\n  editComment,\n} from '../../../../../redux/actions/projectActions';\n\nconst useStyles = makeStyles(() => ({\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    marginTop: 15,\n    '& svg': {\n      marginRight: 15,\n    },\n  },\n  commentsContainer: {\n    margin: '10px 40px 0 0',\n  },\n  userInputContainer: {\n    margin: '15px 0px 8px 0px',\n    display: 'flex',\n  },\n  avatar: {\n    width: 35,\n    height: 35,\n    marginRight: 10,\n  },\n}));\n\nconst Comments = ({ comments, projectId, taskId, disabled }) => {\n  const { userInfo } = useSelector((state) => state.userLogin);\n  const dispatch = useDispatch();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [commentToDelete, setCommentToDelete] = useState(null);\n  const classes = useStyles();\n\n  const openDeleteMenu = (id, index, anchor) => {\n    setCommentToDelete({ id, index });\n    setAnchorEl(anchor);\n  };\n  const deleteCommentHandle = () => {\n    dispatch(\n      deleteComment(\n        taskId,\n        projectId,\n        commentToDelete.id,\n        commentToDelete.index,\n        () => {\n          setCommentToDelete(null);\n          setAnchorEl(null);\n        }\n      )\n    );\n  };\n\n  const editCommentHandle = (commentId, comment, commentIndex, callback) => {\n    dispatch(\n      editComment(taskId, projectId, commentId, comment, commentIndex, callback)\n    );\n  };\n  const addCommentHandle = (comment, callback) => {\n    dispatch(addComment(taskId, projectId, comment, callback));\n  };\n\n  return (\n    <>\n      <div className={classes.header}>\n        <ChatIcon color='primary' />\n        <Typography variant='body1'>Comments</Typography>\n      </div>\n      <div className={classes.userInputContainer}>\n        <Avatar className={classes.avatar} src={userInfo.profilePicture} />\n        <CommentInput addCommentHandle={addCommentHandle} disabled={disabled} />\n      </div>\n      <div className={classes.commentsContainer}>\n        {comments &&\n          comments.map((comment, index) => (\n            <CommentItem\n              key={comment._id}\n              commentIndex={index}\n              comment={comment}\n              profilePicture={\n                userInfo._id === comment.user._id\n                  ? userInfo.profilePicture\n                  : comment.user.profilePicture\n              }\n              openDeleteMenu={openDeleteMenu}\n              editCommentHandle={editCommentHandle}\n              userId={userInfo._id}\n            />\n          ))}\n      </div>\n      <DeleteMenu\n        anchorEl={anchorEl}\n        handleClose={() => setAnchorEl(null)}\n        headerTitle='Delete comment?'\n        deleteHandle={deleteCommentHandle}\n        text={'Deleting a comment cannot be undone, are you sure?'}\n      />\n    </>\n  );\n};\n\nexport default Comments;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,SAASC,UAAU,EAAEC,MAAM,EAAEC,UAAU,QAAQ,mBAAmB;AAClE,OAAOC,QAAQ,MAAM,yBAAyB;AAE9C,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,UAAU,MAAM,4BAA4B;AACnD,SACEC,UAAU,EACVC,aAAa,EACbC,WAAW,QACN,6CAA6C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAErD,MAAMC,SAAS,GAAGd,UAAU,CAAC,OAAO;EAClCe,MAAM,EAAE;IACNC,OAAO,EAAE,MAAM;IACfC,UAAU,EAAE,QAAQ;IACpBC,SAAS,EAAE,EAAE;IACb,OAAO,EAAE;MACPC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,iBAAiB,EAAE;IACjBC,MAAM,EAAE;EACV,CAAC;EACDC,kBAAkB,EAAE;IAClBD,MAAM,EAAE,kBAAkB;IAC1BL,OAAO,EAAE;EACX,CAAC;EACDO,MAAM,EAAE;IACNC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,EAAE;IACVN,WAAW,EAAE;EACf;AACF,CAAC,CAAC,CAAC;AAEH,MAAMO,QAAQ,GAAGC,IAAA,IAA+C;EAAAC,EAAA;EAAA,IAA9C;IAAEC,QAAQ;IAAEC,SAAS;IAAEC,MAAM;IAAEC;EAAS,CAAC,GAAAL,IAAA;EACzD,MAAM;IAAEM;EAAS,CAAC,GAAGlC,WAAW,CAAEmC,KAAK,IAAKA,KAAK,CAACC,SAAS,CAAC;EAC5D,MAAMC,QAAQ,GAAGtC,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACuC,QAAQ,EAAEC,WAAW,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC0C,eAAe,EAAEC,kBAAkB,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM4C,OAAO,GAAG3B,SAAS,CAAC,CAAC;EAE3B,MAAM4B,cAAc,GAAGA,CAACC,EAAE,EAAEC,KAAK,EAAEC,MAAM,KAAK;IAC5CL,kBAAkB,CAAC;MAAEG,EAAE;MAAEC;IAAM,CAAC,CAAC;IACjCN,WAAW,CAACO,MAAM,CAAC;EACrB,CAAC;EACD,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;IAChCV,QAAQ,CACN5B,aAAa,CACXuB,MAAM,EACND,SAAS,EACTS,eAAe,CAACI,EAAE,EAClBJ,eAAe,CAACK,KAAK,EACrB,MAAM;MACJJ,kBAAkB,CAAC,IAAI,CAAC;MACxBF,WAAW,CAAC,IAAI,CAAC;IACnB,CACF,CACF,CAAC;EACH,CAAC;EAED,MAAMS,iBAAiB,GAAGA,CAACC,SAAS,EAAEC,OAAO,EAAEC,YAAY,EAAEC,QAAQ,KAAK;IACxEf,QAAQ,CACN3B,WAAW,CAACsB,MAAM,EAAED,SAAS,EAAEkB,SAAS,EAAEC,OAAO,EAAEC,YAAY,EAAEC,QAAQ,CAC3E,CAAC;EACH,CAAC;EACD,MAAMC,gBAAgB,GAAGA,CAACH,OAAO,EAAEE,QAAQ,KAAK;IAC9Cf,QAAQ,CAAC7B,UAAU,CAACwB,MAAM,EAAED,SAAS,EAAEmB,OAAO,EAAEE,QAAQ,CAAC,CAAC;EAC5D,CAAC;EAED,oBACExC,OAAA,CAAAE,SAAA;IAAAwC,QAAA,gBACE1C,OAAA;MAAK2C,SAAS,EAAEb,OAAO,CAAC1B,MAAO;MAAAsC,QAAA,gBAC7B1C,OAAA,CAACR,QAAQ;QAACoD,KAAK,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC5BhD,OAAA,CAACT,UAAU;QAAC0D,OAAO,EAAC,OAAO;QAAAP,QAAA,EAAC;MAAQ;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC,eACNhD,OAAA;MAAK2C,SAAS,EAAEb,OAAO,CAACnB,kBAAmB;MAAA+B,QAAA,gBACzC1C,OAAA,CAACV,MAAM;QAACqD,SAAS,EAAEb,OAAO,CAAClB,MAAO;QAACsC,GAAG,EAAE5B,QAAQ,CAAC6B;MAAe;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnEhD,OAAA,CAACN,YAAY;QAAC+C,gBAAgB,EAAEA,gBAAiB;QAACpB,QAAQ,EAAEA;MAAS;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrE,CAAC,eACNhD,OAAA;MAAK2C,SAAS,EAAEb,OAAO,CAACrB,iBAAkB;MAAAiC,QAAA,EACvCxB,QAAQ,IACPA,QAAQ,CAACkC,GAAG,CAAC,CAACd,OAAO,EAAEL,KAAK,kBAC1BjC,OAAA,CAACP,WAAW;QAEV8C,YAAY,EAAEN,KAAM;QACpBK,OAAO,EAAEA,OAAQ;QACjBa,cAAc,EACZ7B,QAAQ,CAAC+B,GAAG,KAAKf,OAAO,CAACgB,IAAI,CAACD,GAAG,GAC7B/B,QAAQ,CAAC6B,cAAc,GACvBb,OAAO,CAACgB,IAAI,CAACH,cAClB;QACDpB,cAAc,EAAEA,cAAe;QAC/BK,iBAAiB,EAAEA,iBAAkB;QACrCmB,MAAM,EAAEjC,QAAQ,CAAC+B;MAAI,GAVhBf,OAAO,CAACe,GAAG;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAWjB,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eACNhD,OAAA,CAACL,UAAU;MACT+B,QAAQ,EAAEA,QAAS;MACnB8B,WAAW,EAAEA,CAAA,KAAM7B,WAAW,CAAC,IAAI,CAAE;MACrC8B,WAAW,EAAC,iBAAiB;MAC7BC,YAAY,EAAEvB,mBAAoB;MAClCwB,IAAI,EAAE;IAAqD;MAAAd,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5D,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAAC/B,EAAA,CAxEIF,QAAQ;EAAA,QACS3B,WAAW,EACfD,WAAW,EAGZgB,SAAS;AAAA;AAAAyD,EAAA,GALrB7C,QAAQ;AA0Ed,eAAeA,QAAQ;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}