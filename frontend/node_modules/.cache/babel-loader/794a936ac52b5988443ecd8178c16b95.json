{"ast":null,"code":"var _jsxFileName = \"/Users/ozzyozmencelik/Projects/project-management/frontend/src/components/dashboard/taskModal/TaskModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Redirect, useHistory, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setTask } from '../../../redux/actions/projectActions';\nimport { PROJECT_SET_TASK_RESET } from '../../../redux/constants/projectConstants';\nimport { LinearProgress, makeStyles, Modal } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ModalContainer from './ModalContainer';\nimport Helmet from '../../Helmet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    position: 'relative',\n    overflow: 'auto',\n    borderRadius: 5,\n    height: '90vh',\n    maxWidth: 700,\n    margin: '5vh auto',\n    outline: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    backgroundColor: '#f4f5f7',\n    [theme.breakpoints.down(720)]: {\n      margin: '5vh 10px'\n    }\n  },\n  innerContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginTop: 10,\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      height: '100%'\n    }\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    padding: 3,\n    cursor: 'pointer',\n    '&:hover': {\n      color: theme.palette.primary.main\n    }\n  }\n}));\nconst TaskModal = _ref => {\n  _s();\n  let {\n    projectId,\n    userPermissions,\n    userId\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    task\n  } = useSelector(state => state.projectSetTask);\n  const [loading, setLoading] = useState(true);\n  const timeout = useRef();\n  const history = useHistory();\n  const {\n    taskId\n  } = useParams();\n  const classes = useStyles();\n  useEffect(() => {\n    if (taskId && !task) dispatch(setTask(projectId, taskId));else if (!taskId && task) dispatch({\n      type: PROJECT_SET_TASK_RESET\n    });else if (taskId && task) timeout.current = setTimeout(() => setLoading(false), 1);\n  }, [dispatch, history, taskId, task, projectId]);\n  const closeHandle = () => {\n    history.push(\"/project/\".concat(task.projectId));\n    dispatch({\n      type: PROJECT_SET_TASK_RESET\n    });\n    setLoading(true);\n    clearTimeout(timeout.current);\n  };\n  const keyPressHandle = e => {\n    if (document.activeElement.id === 'task-modal' && e.key === 'Escape') closeHandle();\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: Boolean(task),\n    disableScrollLock: true,\n    onClose: closeHandle,\n    onKeyDown: keyPressHandle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.container,\n      id: \"task-modal\",\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        title: task && task.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), task && task.deleted && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/project/\".concat(task.projectId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 34\n      }, this), loading ? /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(ModalContainer, {\n        task: task,\n        userPermissions: userPermissions,\n        userId: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CloseIcon, {\n        className: classes.closeIcon,\n        onClick: closeHandle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskModal, \"ct8ws1cJ9JoGSuo93LGPGUTJW00=\", false, function () {\n  return [useDispatch, useSelector, useHistory, useParams, useStyles];\n});\n_c = TaskModal;\nexport default TaskModal;\nvar _c;\n$RefreshReg$(_c, \"TaskModal\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Redirect","useHistory","useParams","useDispatch","useSelector","setTask","PROJECT_SET_TASK_RESET","LinearProgress","makeStyles","Modal","CloseIcon","ModalContainer","Helmet","jsxDEV","_jsxDEV","useStyles","theme","container","position","overflow","borderRadius","height","maxWidth","margin","outline","display","flexDirection","justifyContent","backgroundColor","breakpoints","down","innerContainer","alignItems","marginTop","closeIcon","top","right","padding","cursor","color","palette","primary","main","TaskModal","_ref","_s","projectId","userPermissions","userId","dispatch","task","state","projectSetTask","loading","setLoading","timeout","history","taskId","classes","type","current","setTimeout","closeHandle","push","concat","clearTimeout","keyPressHandle","e","document","activeElement","id","key","open","Boolean","disableScrollLock","onClose","onKeyDown","children","className","title","fileName","_jsxFileName","lineNumber","columnNumber","deleted","to","onClick","_c","$RefreshReg$"],"sources":["/Users/ozzyozmencelik/Projects/project-management/frontend/src/components/dashboard/taskModal/TaskModal.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Redirect, useHistory, useParams } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setTask } from '../../../redux/actions/projectActions';\nimport { PROJECT_SET_TASK_RESET } from '../../../redux/constants/projectConstants';\n\nimport { LinearProgress, makeStyles, Modal } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ModalContainer from './ModalContainer';\nimport Helmet from '../../Helmet';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    position: 'relative',\n    overflow: 'auto',\n    borderRadius: 5,\n    height: '90vh',\n    maxWidth: 700,\n    margin: '5vh auto',\n    outline: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    backgroundColor: '#f4f5f7',\n    [theme.breakpoints.down(720)]: {\n      margin: '5vh 10px',\n    },\n  },\n  innerContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginTop: 10,\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n      height: '100%',\n    },\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 5,\n    right: 5,\n    padding: 3,\n    cursor: 'pointer',\n    '&:hover': {\n      color: theme.palette.primary.main,\n    },\n  },\n}));\n\nconst TaskModal = ({ projectId, userPermissions, userId }) => {\n  const dispatch = useDispatch();\n  const { task } = useSelector((state) => state.projectSetTask);\n  const [loading, setLoading] = useState(true);\n  const timeout = useRef();\n  const history = useHistory();\n  const { taskId } = useParams();\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (taskId && !task) dispatch(setTask(projectId, taskId));\n    else if (!taskId && task) dispatch({ type: PROJECT_SET_TASK_RESET });\n    else if (taskId && task)\n      timeout.current = setTimeout(() => setLoading(false), 1);\n  }, [dispatch, history, taskId, task, projectId]);\n\n  const closeHandle = () => {\n    history.push(`/project/${task.projectId}`);\n    dispatch({ type: PROJECT_SET_TASK_RESET });\n    setLoading(true);\n    clearTimeout(timeout.current);\n  };\n\n  const keyPressHandle = (e) => {\n    if (document.activeElement.id === 'task-modal' && e.key === 'Escape')\n      closeHandle();\n  };\n\n  return (\n    <Modal\n      open={Boolean(task)}\n      disableScrollLock\n      onClose={closeHandle}\n      onKeyDown={keyPressHandle}\n    >\n      <div className={classes.container} id='task-modal'>\n        <Helmet title={task && task.title} />\n        {task && task.deleted && <Redirect to={`/project/${task.projectId}`} />}\n        {loading ? (\n          <LinearProgress />\n        ) : (\n          <ModalContainer\n            task={task}\n            userPermissions={userPermissions}\n            userId={userId}\n          />\n        )}\n        <CloseIcon className={classes.closeIcon} onClick={closeHandle} />\n      </div>\n    </Modal>\n  );\n};\n\nexport default TaskModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}